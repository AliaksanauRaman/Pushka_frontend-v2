<div class="pu-label-and-characters-counter">
  <label
    class="pu-label"
    [class.pu-label--disabled]="_isDisabled()"
    [for]="_idDirective.id()"
    >{{ _labelDirective.label() }}</label
  >

  <div
    class="pu-characters-counter"
    [class.pu-characters-counter--disabled]="_isDisabled()"
  >
    <span>{{ _value().length }}</span>
    <span>/</span>
    <span>{{ _maxLength() }}</span>
  </div>
</div>

<div class="pu-field-container">
  @if (_isMailIconVisible()) {
    <div class="mail-icon"></div>
  }

  <input
    #fieldRef
    class="pu-field"
    [class.pu-field--with-mail-icon]="_isMailIconVisible()"
    [id]="_idDirective.id()"
    [autocomplete]="_autocomplete.value()"
    [placeholder]="_placeholderDirective.placeholder()"
    [maxLength]="_maxLength()"
    [value]="_value()"
    [disabled]="_isDisabled()"
    type="email"
    inputmode="email"
    (input)="handleFieldInput(fieldRef.value)"
    (blur)="handleFieldBlur()"
  />
</div>
