<div class="title">Pushka</div>

<div class="spacer"></div>

<div class="actions">
  <pu-localization-selection-container
    class="actions__item"
  ></pu-localization-selection-container>

  <button
    class="actions__item open-account-menu-button"
    *ngIf="_isUserSignedIn(); else signInButton"
    type="button"
    aria-label="Open account menu"
    [cdkMenuTriggerFor]="accountMenu"
  >
    <ng-container *ngTemplateOutlet="defaultAccountAvatar"></ng-container>
  </button>
</div>

<ng-template #signInButton>
  <button class="actions__item" puSecondaryButton>
    <span>Войти</span>
  </button>
</ng-template>

<ng-template #defaultAccountAvatar>
  <img
    ngSrc="/assets/images/default-account-avatar-image.svg"
    alt="Account avatar"
    width="40"
    height="40"
  />
</ng-template>

<ng-template #accountMenu>
  <div class="account-menu" cdkMenu>
    <div class="account-info">
      <div class="avatar-container">
        <ng-container *ngTemplateOutlet="defaultAccountAvatar"></ng-container>
      </div>

      <div class="email">{{ email }}</div>
    </div>

    <button
      class="logout-button"
      cdkMenuItem
      (cdkMenuItemTriggered)="logout.emit()"
    >
      <div class="logout-icon-container">
        <img
          ngSrc="/assets/icons/logout.svg"
          alt="Account avatar"
          width="18"
          height="18"
        />
      </div>

      <span class="logout-label">Log out</span>
    </button>
  </div>
</ng-template>
